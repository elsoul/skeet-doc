---
id: basic-architecture
title: 基本アーキテクチャ
description: ここでは Skeet TypeScript サーバーレスフレームワークの基本的なアーキテクチャについて説明します。
---

## はじめに

Skeet フレームワークは [Monorepo](https://en.wikipedia.org/wiki/Monorepo) によってアプリケーションを管理しています。

ウェブアプリケーションには、ユーザーアプリ、管理者アプリ、バックエンド API、Worker によるタスク処理など、

様々な役割がありますが、

1 つの git リポジトリ で管理することができます。

これにより、チーム間による開発効率が抜群に改善されます。

## ディレクトリ構造

Skeet には一つのリポジトリの中に複数のサービスがあります。

サービスは apps 以下のディレクトリに配置されます。

バックエンドのサービスには

api と worker の 2 種類があり、

worker は複数個作成することができます。

ツリー構造

```
skeeter-app
├── apps
│   ├── api
│   ├── workers
│       ├── token-transfer
│       ├── scraper

  .
  .
```

## スキーマ駆動開発

Skeet は Nexus と組み合わせて、Prisma スキーマから GraphQL エンドポイント(リゾルバ)までを自動生成しています。

- [Nexus Prisma](https://graphql-nexus.github.io/nexus-prisma)

- [Apollo GraphQL](https://www.apollographql.com/)

Prisma スキーマ駆動 Scaffold (自動生成) による開発効率の最大化。より少ない管理コストでグローバル規模のスケールを実現しています。

## GitHub Actions による自動デプロイ

Skeet フレームワークでは `Github Actions` を使用して、

CI/CD 環境を構築しています。

`API`, 各 `Worker` ディレクトリの変更を検知し、

変更があった場合には `main` ブランチに `push` するだけでデプロイが完了します。

デプロイの前にテストを実行するので、

万が一テストに失敗した場合にはデプロイがロールバックされるため、

本番環境にはデプロイされません。

これにより、安全で迅速な開発環境のもとプロジェクトを進めることができます。

## CI/CD とは

CI/CD (継続的インテグレーション/継続的デリバリー) とは、アプリケーション開発のステージに自動化を取り入れて、顧客にアプリケーションを提供する頻度を高める手法です。CI/CD から発生した主なコンセプトは、継続的インテグレーション、継続的デリバリー、継続的デプロイメントです。CI/CD は、新規コードの統合によって開発チームや運用チームに生じる問題 (すなわち「インテグレーション地獄」) に対する解決策です。
